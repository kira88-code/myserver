<script>
const url = 'https://safe.payroller.com.au/v1/company';

const headers = new Headers({
  // Only include essential headers. Many are managed by the browser automatically.
  'Accept': '*/*', 
  'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.82 Safari/537.36',
  'X-Ui-Version': 'v2',
  'X-App': 'people.bookipi.com',
  'X-Platform': 'web',
  // You can include others from the original request if they are known to be non-standard but required by the server:
  // 'X-Public': "TSR'",
  // 'X-Sandbox-Mode': 'no',
});

const requestOptions = {
  method: 'GET',
  headers: headers,
};

fetch(url, requestOptions)
  .then(response => {
    // Check for a successful response (status code 200-299)
    if (!response.ok) {
      // Throw an error if the response status is not OK
      throw new Error(`HTTP error! Status: ${response.status} - ${response.statusText}`);
    }
    // Content-Type: application/json is assumed for the response, 
    // so we use response.json() to parse the body.
    return response.json(); 
  })
  .then(data => {
    // Display the parsed JSON response
    console.log('✅ Fetched Company Data (JSON Response):');
    console.log(data);
  })
  .catch(error => {
    // Log any errors that occurred during the fetch or JSON parsing
    console.error('❌ Fetch Error:', error);
  });

</script>
